<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>Linux用户和组管理</title>
      <link href="/2019/09/03/Linux%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84%E7%AE%A1%E7%90%86/"/>
      <url>/2019/09/03/Linux%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84%E7%AE%A1%E7%90%86/</url>
      <content type="html"><![CDATA[<h1 id="Linux用户和组管理"><a href="#Linux用户和组管理" class="headerlink" title="Linux用户和组管理"></a>Linux用户和组管理</h1><h2 id="Linux中用户和组相关文件"><a href="#Linux中用户和组相关文件" class="headerlink" title="Linux中用户和组相关文件"></a>Linux中用户和组相关文件</h2><h3 id="etc-passwd"><a href="#etc-passwd" class="headerlink" title="/etc/passwd"></a>/etc/passwd</h3><p> 存储用户账户信息,存储格式为:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name:password:UID:GID:comment:directory:shell</span><br></pre></td></tr></table></figure><ul><li>name：用户登录名；</li><li>password：用户口令，用占位符x表示；</li><li>UID：用户ID，用户登录时，系统根据UID，而非用户名来识别用户；</li><li>GID：用户所属的主组ID；</li><li>comment：用户的注释信息；</li><li>directory：用户家目录的绝对路径；</li><li>shell：用户的默认shell。</li></ul><h3 id="etc-shadow"><a href="#etc-shadow" class="headerlink" title="/etc/shadow"></a>/etc/shadow</h3><p>存储用户密码信息</p><p>存储格式为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">登录名:$加密算法$salt$加密了的密码:最后一次更改密码的日期:密码最小期限:密码最大期限:密码警告时间段:密码禁用期:账户过期日期:保留字段</span><br></pre></td></tr></table></figure><h3 id="etc-group"><a href="#etc-group" class="headerlink" title="/etc/group"></a>/etc/group</h3><p>存储用户组信息, 存储格式:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">group_name:password:GID:user_list</span><br></pre></td></tr></table></figure><ul><li>group_name：组名；</li><li>password：用户组的口令，用占位符x表示，一般Linux用户组都没有口令；</li><li>GID：组ID；</li><li>user_list：用户列表，注意，这里列出的是以该组为附加组的用户列表，以此组为主组的用户没有列在此处。</li></ul><h2 id="用户类别和标识"><a href="#用户类别和标识" class="headerlink" title="用户类别和标识"></a>用户类别和标识</h2><h3 id="用户类别"><a href="#用户类别" class="headerlink" title="用户类别"></a>用户类别</h3><p>Linux中，用户分为两大类、三小类：<br>分别为<strong>管理员</strong>（一般为root）和<strong>普通用户</strong> 。<br>普通用户中，又划分为两类，分别为<em>系统用户</em>和<em>登录用户</em>。</p><p><strong>管理员</strong><br><strong>（超级用户root）</strong></p><p>可以操作系统中任意文件和命令，拥有最高的管理权限。</p><p><strong>普通用户</strong></p><p>又分为登录用户和系统用户：</p><ul><li><p>登录用户:  一般为管理员手动添加的用户，默认仅拥有操作自身家目录中文件及目录的权限，以及进入与浏览相关目录文件的权限（如/etc、/var/log等），但没有创建、修改、删除等权限。</p></li><li><p>系统用户:<br>一般为系统安装后默认存在的，且默认情况下不能登录系统，它们的存在主要是为了满足系统进程对文件属主的需求。</p><p>Tips：<em>在部署某些服务是，也可以手动添加某些系统用户。</em></p></li></ul><h3 id="用户标识-UID"><a href="#用户标识-UID" class="headerlink" title="用户标识(UID)"></a>用户标识(UID)</h3><p>Linux系统使用UID（User ID）来标识不同用户。<br>UID是16bits的二进制数字，所以换算成十进制，UID的范围是0~65535，Linux根据用户类别，对UID划分做了规定：</p><p><strong>管理员</strong><br><strong>UID为0</strong></p><p>Tips：当用户UID为0时，该用户就是管理员，所以不只root才是管理员，可以手动指定，但不建议。</p><p><strong>普通用户（1~65535）</strong></p><ul><li>系统用户<br>一般发行版为1~499（CentOS7为1~999）</li><li>登录用户<br>一般发行版为500~65535（CentOS7 为1000~65535）</li></ul><h2 id="组类别和组标识"><a href="#组类别和组标识" class="headerlink" title="组类别和组标识"></a>组类别和组标识</h2><h3 id="组类别"><a href="#组类别" class="headerlink" title="组类别"></a>组类别</h3><p>Linux对组有三种划分方法：</p><p><strong>用户类别</strong></p><ul><li>管理员组</li><li>普通用户组（包括系统用户组和登录用户组）</li></ul><p><strong>主组和附属组</strong></p><ul><li>用户的基本组（主组:<br>用户必须有且只能有一个基本组。</li><li>用户的附加组 （附属组) : 用户可以有0个、1个或多个附加组。<br>基本组和附加组就比如，每个人有一个用来安家的房子（基本组），还可以有N个用于投资的房子（附属组）。</li></ul><p><strong>私有和公共组</strong></p><ul><li>私有组: 每新建一个用户，如果不指定-g参数，都会自动创建一个和用户名同名的组，且组内只包含用户本身。</li><li>公共组: 组内可包含多个用户。</li></ul><h3 id="组标识-GID"><a href="#组标识-GID" class="headerlink" title="组标识(GID)"></a>组标识(GID)</h3><p>Linux系统使用GID（Group ID）来标识不同组。<br>GID的划分和UID相同。</p><h2 id="Linux用户和组管理命令"><a href="#Linux用户和组管理命令" class="headerlink" title="Linux用户和组管理命令"></a>Linux用户和组管理命令</h2><h3 id="组管理"><a href="#组管理" class="headerlink" title="组管理"></a>组管理</h3><h4 id="groupadd"><a href="#groupadd" class="headerlink" title="groupadd"></a>groupadd</h4><p>新建组</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupadd [options] group</span><br></pre></td></tr></table></figure><ul><li>-g GID：指定GID：默认是上一个组的GID+1</li><li>-r：创建系统组</li></ul><h4 id="gourpmod"><a href="#gourpmod" class="headerlink" title="gourpmod"></a>gourpmod</h4><p>修改组</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupmod [options] GROUP</span><br></pre></td></tr></table></figure><ul><li>-g GID：–gid GID：修改GID</li><li>-n NEW_NAME，修改组名</li></ul><h4 id="groupdel"><a href="#groupdel" class="headerlink" title="groupdel"></a>groupdel</h4><p>删除组</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupdel [options] GROUP</span><br></pre></td></tr></table></figure><p><em>tips: 当某user以某group为主组时，是无法使用groupdel命令删除该group的，但附加组不受影响。</em></p><h3 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h3><h4 id="useradd"><a href="#useradd" class="headerlink" title="useradd"></a>useradd</h4><p>新建用户</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd [options] LOGIN</span><br></pre></td></tr></table></figure><ul><li>u UID：–uid UID：指定UID，默认是上一个用户UID+1</li><li>-g GROUP：–gid GROUP：指定用户的基本组，此组必须事先存在</li><li>-G：–groups GROUP1,GROUP2…，指定用户的附加组，这些组必须事先存在</li><li>-c COMMENT：–comment COMMENT：添加注释</li><li>-d：–home HOME_DIR：指定用户家目录，通过复制/etc/skel并重命名实现的，指定的家目录路径如果事先存在，则不会为用户复制环境初始化配置文件（如.bashrc等）</li><li>-s：–shell SHELL：指定用户默认shell，可用的所有shell列表存储在/etc/shells文件中</li><li>-r：–system：创建系统用户</li></ul><h4 id="usermod"><a href="#usermod" class="headerlink" title="usermod"></a>usermod</h4><p> 修改用户</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">usermod [options] LOGIN</span><br></pre></td></tr></table></figure><ul><li>-u UID：–uid UID：修改UID</li><li>-g GROUP：–gid GROUP：修改用户的基本组，此组必须事先存在</li><li>-G：–groups GROUP1,GROUP2…，修改用户的附加组，这些组须事先存在。<br>注意，原来的附加组会被覆盖。<br>如果只添加不覆盖，则配合使用-a选项。</li><li>-a：–append：与-G一同使用，添加用户的附加组</li><li>-c COMMENT：–comment COMMENT：修改注释</li><li>-d：–home HOME_DIR：修改用户家目录<br>用户原有的文件不会被转移至新位置。<br>如果需要转移，则配合使用-m选项。</li><li>-m：–move-home：只能与-d选项一同使用，用于将原来的家目录移动为新的家目录。</li><li>-l：–login NEW_LOGIN：修改用户登录名</li><li>-s：–shell SHELL：修改用户默认shell</li><li>-L：–lock：锁定用户的密码，即禁止用户登录。<br>其实就是在/etc/passwd文件中用户原来的密码字符串前添加一个“!”，使其不能匹配。</li><li>-U：–unlock：解锁用户的密码</li></ul><p>usermod的常用选项和useradd相同，只需注意-d和-G两个选项。</p><p>-G: 修改用户的附加组，这些组须事先存在。<br>注意，原来的附加组会被覆盖。</p><p>-d 和-m 的使用</p><ul><li><p>不移动家目录</p><p>例如只修改qinkai用户的家目录为/home/qinkai_newhome，不移动之前家目录的内容，则用-d选项</p><p><em>tips: 此目录须事先存在，否则只是更改了/etc/passwd中的记录，实际的目录是不会自动创建的</em></p></li><li><p>修改家目录的同时，移动以前家目录的内容, 将-d和-m选项同时使用。</p><p><em>tips: 目标目录不要事先存在，否则和只用-d的效果是一样的</em></p></li></ul><h4 id="userdel"><a href="#userdel" class="headerlink" title="userdel"></a>userdel</h4><p> 删除用户</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">userdel [options] LOGIN</span><br></pre></td></tr></table></figure><ul><li>-r：删除用户时一并删除用户家目录</li></ul><h4 id="passwd"><a href="#passwd" class="headerlink" title="passwd"></a>passwd</h4><p>修改用户密码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd [options] [username]</span><br></pre></td></tr></table></figure><p>passwd：不带任何选项：修改当前登录用户自己的密码</p><p>passwd USER：修改指定用户的密码，默认仅root用户有此权限</p><ul><li>-l：–lock：锁定用户</li><li>-u：–unlock：解锁用户</li><li>-d：–delete：清除用户密码</li><li>-e：–expire DATE：过期期限（日期）</li><li>-i：–inactive DAYS：非活动期限（时长）</li><li>-n：–minimum DAYS：密码的最短使用期限</li><li>-m：–maximum DAYS：密码的最长使用期限</li><li>-w：–warning DAYS：警告期限</li></ul><h3 id="其他命令"><a href="#其他命令" class="headerlink" title="其他命令"></a>其他命令</h3><h4 id="su"><a href="#su" class="headerlink" title="su"></a>su</h4><p>登录切换</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su [options...] [-] [user [args...]]</span><br></pre></td></tr></table></figure><ul><li>- 登录式切换：会通过重新读取目标用户的配置文件来重新初始化</li><li>-c COMMAND:  仅以指定用户的身份运行此处指定的命令</li></ul><h4 id="whoami"><a href="#whoami" class="headerlink" title="whoami"></a>whoami</h4><p>查看当前登录的用户。</p>]]></content>
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>hexo+github搭建个人博客</title>
      <link href="/2019/08/30/hexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
      <url>/2019/08/30/hexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
      <content type="html"><![CDATA[<h1 id="Hexo-github搭建个人博客"><a href="#Hexo-github搭建个人博客" class="headerlink" title="Hexo+github搭建个人博客"></a>Hexo+github搭建个人博客</h1><h2 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h2><ul><li>node.js</li><li>git</li></ul><p>安装hexo</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure><h2 id="利用hexo搭建一个博客"><a href="#利用hexo搭建一个博客" class="headerlink" title="利用hexo搭建一个博客"></a>利用hexo搭建一个博客</h2><p><strong>创建博客目录qin-k.github.io</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo init qin-k.github.io</span><br><span class="line">cd qin-k.github.io</span><br><span class="line">npm instal</span><br></pre></td></tr></table></figure><p><strong>运行</strong></p><ul><li><p>hexo clean: 清除缓存,删除生成的pulic目录文件</p></li><li><p>hexo g(generate): 生成静态页面</p></li><li><p>hexo s(server): 运行</p><p>打开浏览器，输入地址 <strong>localhost:4000</strong> 即可看到效果 </p></li></ul><h2 id="基本配置及美化"><a href="#基本配置及美化" class="headerlink" title="基本配置及美化"></a>基本配置及美化</h2><p>网站的设置大部分都在项目录入<code>_config.yml</code>文件中, 主题配置在themes主题目录下对应主题下的<code>_config.yml</code>。</p><p>官方文档:<a href="https://hexo.io/zh-cn/docs/configuration.html" target="_blank" rel="noopener">https://hexo.io/zh-cn/docs/configuration.html</a></p><p><strong>注:</strong>修改配置后需要<code>hexo clean</code>清除缓存重新<code>hexo g</code>生成静态页面。</p><h3 id="网站配置"><a href="#网站配置" class="headerlink" title="网站配置"></a>网站配置</h3><p>基本配置</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">秦凯的博客</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">笨鸟先飞</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">这是个人博客</span></span><br><span class="line"><span class="attr">keywords:</span> <span class="string">个人,技术,博客</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">秦凯</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br><span class="line"><span class="attr">timezone:</span></span><br></pre></td></tr></table></figure><h3 id="主题配置"><a href="#主题配置" class="headerlink" title="主题配置"></a>主题配置</h3><p>使用其他主题，如next</p><p><strong>下载主题</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Git clone https://github.com/theme-next/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure><p><strong>网站配置中使用next主题</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: next</span><br></pre></td></tr></table></figure><p>设置菜单使用tags和categories</p><p>首先在主题配置中menu处取消注释:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line"><span class="attr">  home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">home</span></span><br><span class="line">  <span class="comment">#about: /about/ || user</span></span><br><span class="line"><span class="attr">  tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">tags</span></span><br><span class="line"><span class="attr">  categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">th</span></span><br><span class="line"><span class="attr">  archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">archive</span></span><br><span class="line">  <span class="comment">#schedule: /schedule/ || calendar</span></span><br><span class="line">  <span class="comment">#sitemap: /sitemap.xml || sitemap</span></span><br><span class="line">  <span class="comment">#commonweal: /404/ || heartbeat</span></span><br></pre></td></tr></table></figure><p>创建对应页面:<code>hexo new page &quot;tags&quot;</code></p><p>会在source目录下生成categories目录其中包含index.md 文件。修改此文件</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">tags</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019</span><span class="bullet">-08</span><span class="bullet">-29</span> <span class="number">22</span><span class="string">:57:41</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">"tags"</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>categories和about等的添加于此类似</p><h3 id="主题美化"><a href="#主题美化" class="headerlink" title="主题美化"></a>主题美化</h3><p><strong>修改网站图标</strong></p><p>将16x16和32x32的图标文件传到<code>themes\next\source\images</code>下。</p><p>修改主题配置文件。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">favicon:</span></span><br><span class="line"><span class="attr">  small:</span> <span class="string">/images/favicon16x16.png</span></span><br><span class="line"><span class="attr">  medium:</span> <span class="string">/images/favicon32x32.png</span></span><br><span class="line"><span class="attr">  apple_touch_icon:</span> <span class="string">/images/apple-touch-icon-next.png</span></span><br><span class="line"><span class="attr">  safari_pinned_tab:</span> <span class="string">/images/logo.svg</span></span><br><span class="line">  <span class="comment">#android_manifest: /images/manifest.json</span></span><br><span class="line">  <span class="comment">#ms_browserconfig: /images/browserconfig.xml</span></span><br></pre></td></tr></table></figure><p><strong>设置头像</strong></p><p><code>themes/next/_config.yml</code>中设置：在source/images/avatar.png添加头像。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Sidebar Avatar</span></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="comment"># In theme directory (source/images): /images/avatar.gif</span></span><br><span class="line">  <span class="comment"># In site directory (source/uploads): /uploads/avatar.gif</span></span><br><span class="line">  <span class="comment"># You can also use other linking images.</span></span><br><span class="line"><span class="attr">  url:</span> <span class="string">/images/avatar.png</span></span><br><span class="line">  <span class="comment"># If true, the avatar would be dispalyed in circle.</span></span><br><span class="line"><span class="attr">  rounded:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># If true, the avatar would be rotated with the cursor.</span></span><br><span class="line"><span class="attr">  rotated:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p><strong>设置Scheme</strong></p><p>选择自己喜欢的scheme</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Schemes</span></span><br><span class="line"><span class="comment">#scheme: Muse</span></span><br><span class="line"><span class="comment">#scheme: Mist</span></span><br><span class="line"><span class="attr">scheme:</span> <span class="string">Pisces</span></span><br><span class="line"><span class="comment">#scheme: Gemini</span></span><br></pre></td></tr></table></figure><p><strong>修改footer添加访客人数和总访问量</strong></p><p>在<code>footer.swig</code>中添加标签，同时我们还可以通过修改主题配置来方便选择是否显示访问量，步骤如下：首先，我们在next主题下的<code>_config.yml</code>中加入以下配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line"><span class="string">...</span></span><br><span class="line">    <span class="comment"># visitors count</span></span><br><span class="line"><span class="attr">    counter:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>以更改counter的值为false来隐藏页脚的访问量统计，然后，我们在<code>themes/next/layout/_partial/footer.swig</code>中添加以下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.footer.counter %&#125;</span><br><span class="line">    &lt;script async src=&quot;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;span id=&quot;busuanzi_container_site_pv&quot;&gt;本站总访问量&lt;span id=&quot;busuanzi_value_site_pv&quot;&gt;&lt;/span&gt;次&lt;/span&gt;</span><br><span class="line">    &lt;span class=&quot;post-meta-divider&quot;&gt;|&lt;/span&gt;</span><br><span class="line">    &lt;span id=&quot;busuanzi_container_site_uv&quot;&gt;本站访客数&lt;span id=&quot;busuanzi_value_site_uv&quot;&gt;&lt;/span&gt;人&lt;/span&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p><strong>设置社交链接</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line"><span class="attr">  GitHub:</span> <span class="attr">https://github.com/Qin-K</span> <span class="string">||</span> <span class="string">github</span></span><br><span class="line"><span class="attr">  E-Mail:</span> <span class="attr">mailto:qinkkai@foxmail.com</span> <span class="string">||</span> <span class="string">envelope</span></span><br><span class="line"><span class="attr">  Weibo:</span> <span class="attr">https://weibo.com/wqinkai</span> <span class="string">||</span> <span class="string">weibo</span></span><br><span class="line">  <span class="comment">#Google: https://plus.google.com/yourname || google</span></span><br><span class="line">  <span class="comment">#Twitter: https://twitter.com/yourname || twitter</span></span><br><span class="line">  <span class="comment">#FB Page: https://www.facebook.com/yourname || facebook</span></span><br><span class="line">  <span class="comment">#VK Group: https://vk.com/yourname || vk</span></span><br><span class="line">  <span class="comment">#StackOverflow: https://stackoverflow.com/yourname || stack-overflow</span></span><br><span class="line">  <span class="comment">#YouTube: https://youtube.com/yourname || youtube</span></span><br><span class="line">  <span class="comment">#Instagram: https://instagram.com/yourname || instagram</span></span><br><span class="line">  <span class="comment">#Skype: skype:yourname?call|chat || skype</span></span><br></pre></td></tr></table></figure><p><strong>修改文章内容宽度</strong></p><p>修改主题目录下<code>source/css/_schemes/Picses/_layout.styl</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">$white_max_width = 1200px</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">header</span>&#123; </span><br><span class="line">  <span class="attribute">width</span>: <span class="number">90%</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">max-width</span>: $white_max_width;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">header</span><span class="selector-class">.post-header</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: auto <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-class">.main-inner</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">90%</span>;</span><br><span class="line">  <span class="attribute">max-width</span>: $white_max_width;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content-wrap</span> &#123; <span class="attribute">width</span>: <span class="built_in">calc</span>(100% - 260px); &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.header</span> &#123;</span><br><span class="line">  +tablet() &#123;</span><br><span class="line">    <span class="selector-tag">width</span>: <span class="selector-tag">auto</span> !<span class="selector-tag">important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  +<span class="selector-tag">mobile</span>() &#123;</span><br><span class="line">    <span class="attribute">width</span>: auto <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-class">.main-inner</span> &#123;</span><br><span class="line">  +tablet() &#123;</span><br><span class="line">    <span class="selector-tag">width</span>: <span class="selector-tag">auto</span> !<span class="selector-tag">important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  +<span class="selector-tag">mobile</span>() &#123;</span><br><span class="line">    <span class="attribute">width</span>: auto <span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content-wrap</span> &#123;</span><br><span class="line">  +tablet() &#123;</span><br><span class="line">    <span class="selector-tag">width</span>: 100% !<span class="selector-tag">important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  +<span class="selector-tag">mobile</span>() &#123;</span><br><span class="line">    // 为了在手机访问时，内边距不至于太大</span><br><span class="line">    <span class="selector-tag">padding</span>: 0 !<span class="selector-tag">important</span>;</span><br><span class="line">    <span class="selector-tag">width</span>: 100% !<span class="selector-tag">important</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="文章相关配置"><a href="#文章相关配置" class="headerlink" title="文章相关配置"></a>文章相关配置</h3><p><strong>修改文章部分显示</strong></p><p>对于未显示部分，点击阅读全文可以查看</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">auto_excerpt:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  length:</span> <span class="number">150</span></span><br></pre></td></tr></table></figure><p><strong>修改文章模板</strong></p><p>修改<code>source/scaffolds/post.md</code></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">&#123;&#123;</span> <span class="string">title</span> <span class="string">&#125;&#125;</span></span><br><span class="line"><span class="attr">date:</span> <span class="string">&#123;&#123;</span> <span class="string">date</span> <span class="string">&#125;&#125;</span></span><br><span class="line"><span class="attr">tags:</span> </span><br><span class="line"><span class="attr">categories:</span> </span><br><span class="line"><span class="attr">description:</span></span><br></pre></td></tr></table></figure><p><strong>添加字数统计、阅读时长</strong></p><p>安装插件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-symbols-count-time --save</span><br></pre></td></tr></table></figure><p>修改项目配置文件</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line"><span class="attr">  symbols:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  time:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  total_symbols:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  total_time:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><strong>添加来必应评论</strong></p><p>去<a href="https://www.livere.com" target="_blank" rel="noopener">来必应官网</a>注册，获取data-uid</p><p><img src="https://raw.githubusercontent.com/Qin-K/picGo/master/img/20190830154138.png"></p><p>修改主题配置文件填写自己的uid</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">livere_uid: MTAyMC8...Mi8xMzM4OA</span><br></pre></td></tr></table></figure><h2 id="部署到github"><a href="#部署到github" class="headerlink" title="部署到github"></a>部署到github</h2><p>首先注册一个github账号，并创建一个名为\&lt;youname>.github.io的仓库。如我的个人仓库:<code>qin-k.github.io</code></p><p><strong>安装hexo-deployer-git插件</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p><strong>网站配置git</strong></p><p>在网站配置文件中配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: &lt;repository url&gt;</span><br><span class="line">  branch: [branch]</span><br></pre></td></tr></table></figure><ul><li><p>repo: 仓库地址</p></li><li><p>branch: 分支</p></li><li><p>部署</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure></li></ul><h2 id="hexo常用命令"><a href="#hexo常用命令" class="headerlink" title="hexo常用命令"></a>hexo常用命令</h2><table><thead><tr><th>命令</th><th>解释</th></tr></thead><tbody><tr><td>hexo clean</td><td>清除缓存,会清除public目录下文件,修改配置后使用</td></tr><tr><td>hexo g</td><td>生成静态网页，将md文件转成html, 放到public目录</td></tr><tr><td>hexo s</td><td>启动服务器，可在本地通过localhost:4000预览</td></tr><tr><td>hexo d</td><td>部署到github上</td></tr><tr><td>hexo d -g</td><td>生成并部署</td></tr><tr><td>hexo new “postName”</td><td>新建文章</td></tr><tr><td>hexo new “pageName”</td><td>新建页面</td></tr></tbody></table>]]></content>
      
      <categories>
          
          <category> 建站 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>使用JDBC</title>
      <link href="/2019/08/30/%E4%BD%BF%E7%94%A8JDBC/"/>
      <url>/2019/08/30/%E4%BD%BF%E7%94%A8JDBC/</url>
      <content type="html"><![CDATA[<p><strong>jdbc的定义</strong></p><blockquote><p>JDBC（Java DataBase Connectivity,java数据库连接）是一种用于执行SQL语句的Java API，可以为多种关系数据库提供统一访问，它由一组用Java语言编写的类和接口组成。JDBC提供了一种基准，据此可以构建更高级的工具和接口，使数据库开发人员能够编写数据库应用程序</p></blockquote><p><strong>准备环境</strong></p><ul><li>jdk 1.8</li><li>mysql-5.7.23-winx64</li><li>mysql-connector-java-5.1.7-bin.jar</li></ul><p><strong>使用jdbc的基本步骤</strong></p><ol><li><p>注册驱动</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>);</span><br></pre></td></tr></table></figure></li><li><p>建立数据库连接</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Connection conn = DriverManager.getConnection(url, username, password);</span><br></pre></td></tr></table></figure></li><li><p>创建Statement(PrepareStatement)对象</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PrepareStatement ps = conn.prepareStatement(sql);</span><br></pre></td></tr></table></figure></li><li><p>执行sql语句得到ResultSet结果集</p><p><em>PrepareStatement基本使用</em></p><ul><li>executeQuery()     <em>查询</em></li><li>executeUptate()  <em>增删改</em></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ResultSet rs = ps.executeQuery();</span><br></pre></td></tr></table></figure></li><li><p>遍历结果集</p><p><em>ResultSet获取结果</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (rs.next()) &#123;<span class="comment">/*获取结果*/</span>&#125;</span><br></pre></td></tr></table></figure></li><li><p>释放资源 <em>释放资源时的顺序 ResultSet-&gt;PrepareStatement-&gt;Connection</em></p></li></ol><p><strong>简单JDBC实例</strong></p><p>(1) 工具类，获取连接对象，和释放资源</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取Connection对象</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Connection conn = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>); <span class="comment">// 加载数据库驱动</span></span><br><span class="line">        conn = DriverManager.getConnection(<span class="string">"jdbc:mysql://localhost:3306/jdbctest"</span>, <span class="string">"root"</span>, <span class="string">"admin"</span>); <span class="comment">// 建立数据库连接</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> conn;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 释放资源</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">release</span><span class="params">(Connection conn, Statement st, ResultSet rs)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (rs != <span class="keyword">null</span>) &#123;</span><br><span class="line">            rs.close();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (st != <span class="keyword">null</span>) &#123;</span><br><span class="line">            st.close();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (conn != <span class="keyword">null</span>) &#123;</span><br><span class="line">            conn.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>（2）使用jdbc实现基本增删改查</p><ul><li><p>准备表格</p><p><img src="https://ws1.sinaimg.cn/large/006Cx571gy1g47g9tyti8j30e703ha9w.jpg"></p></li></ul><ol><li><p>insert 增加</p><p>向表中插入两条数据, qinkai 20, zhangsan 20, id根据表中自增长。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Connection conn = JDBCUtil.getConnection();</span><br><span class="line">    String sql = <span class="string">"insert into student values(null,?,?)"</span>;</span><br><span class="line">    PreparedStatement ps = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ps = conn.prepareStatement(sql);</span><br><span class="line">        ps.setString(<span class="number">1</span>,<span class="string">"qinkai"</span>);</span><br><span class="line">        ps.setInt(<span class="number">2</span>,<span class="number">20</span>);</span><br><span class="line">        ps.executeUpdate();</span><br><span class="line"></span><br><span class="line">        ps.setString(<span class="number">1</span>, <span class="string">"zhangsan"</span>);</span><br><span class="line">        ps.setInt(<span class="number">2</span>,  <span class="number">20</span>);</span><br><span class="line">        ps.executeUpdate();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        JDBCUtil.release(<span class="keyword">null</span>, ps, conn);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>插入成功表中数据</p><p><img src="https://ws1.sinaimg.cn/large/006Cx571gy1g47gamgxlhj30e8037q2t.jpg"></p></li><li><p>query 查询</p><p>查询表所有数据，并打印</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">query</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Connection conn = JDBCUtil.getConnection();</span><br><span class="line">    String sql = <span class="string">"select * from student"</span>;</span><br><span class="line">    PreparedStatement ps = <span class="keyword">null</span>;</span><br><span class="line">    ResultSet rs = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ps = conn.prepareStatement(sql);</span><br><span class="line">        rs = ps.executeQuery();</span><br><span class="line">        <span class="keyword">while</span>(rs.next()) &#123;</span><br><span class="line">            <span class="keyword">int</span> id = rs.getInt(<span class="string">"id"</span>);</span><br><span class="line">            String name = rs.getString(<span class="string">"name"</span>);</span><br><span class="line">            <span class="keyword">int</span> age = rs.getInt(<span class="string">"age"</span>);</span><br><span class="line">            System.out.println(id + <span class="string">" "</span> +  <span class="string">" "</span> + name + <span class="string">" "</span> + age);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        JDBCUtil.release(rs, ps, conn);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>控制台结果显示</p><p><img src="https://ws1.sinaimg.cn/large/006Cx571gy1g47gb0ffk4j30he03sdfs.jpg"></p></li><li><p>update 修改</p><p>通过id修改id为4的姓名为lisi，修改完成后查询。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Connection conn = JDBCUtil.getConnection();</span><br><span class="line">    String sql = <span class="string">"update student set name=? where id =?"</span>;</span><br><span class="line">    PreparedStatement ps = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ps = conn.prepareStatement(sql);</span><br><span class="line">        ps.setString(<span class="number">1</span>, <span class="string">"lisi"</span>);</span><br><span class="line">        ps.setInt(<span class="number">2</span>, <span class="number">4</span>);</span><br><span class="line">        ps.executeUpdate();</span><br><span class="line">        query();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        JDBCUtil.release(<span class="keyword">null</span>, ps, conn);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改后，查询控制台显示</p><p><img src="https://ws1.sinaimg.cn/large/006Cx571gy1g47gbe8q5jj30h703w0so.jpg"></p></li><li><p>delete 删除</p><p>通过name条件删除lisi的数据，删除后查询</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Connection conn = JDBCUtil.getConnection();</span><br><span class="line">    String sql = <span class="string">"delete from student where name=?"</span>;</span><br><span class="line">    PreparedStatement ps = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ps = conn.prepareStatement(sql);</span><br><span class="line">        ps.setString(<span class="number">1</span>, <span class="string">"lisi"</span>);</span><br><span class="line">        ps.executeUpdate();</span><br><span class="line"></span><br><span class="line">        query();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        JDBCUtil.release(<span class="keyword">null</span>, ps, conn);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>删除后，控制台显示结果。</p><p><img src="https://ws1.sinaimg.cn/large/006Cx571gy1g47gdf8moyj30gh03d747.jpg"></p></li></ol>]]></content>
      
      <categories>
          
          <category> javaEE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> 数据库 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>mybatis-generator插件使用</title>
      <link href="/2019/08/26/mybatis-generator%E6%8F%92%E4%BB%B6%E4%BD%BF%E7%94%A8/"/>
      <url>/2019/08/26/mybatis-generator%E6%8F%92%E4%BB%B6%E4%BD%BF%E7%94%A8/</url>
      <content type="html"><![CDATA[<h1 id="Mybatis-generator使用"><a href="#Mybatis-generator使用" class="headerlink" title="Mybatis-generator使用"></a>Mybatis-generator使用</h1><h2 id="在pom-xml中引入插件"><a href="#在pom-xml中引入插件" class="headerlink" title="在pom.xml中引入插件"></a><strong>在pom.xml中引入插件</strong></h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- mybatis-generator --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">verbose</span>&gt;</span>true<span class="tag">&lt;/<span class="name">verbose</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">overwrite</span>&gt;</span>true<span class="tag">&lt;/<span class="name">overwrite</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">  用maven mybatis插件</span></span><br><span class="line"><span class="comment">  如果不在plugin里面添加依赖包得引用的话，会找不到相关得jar包，</span></span><br><span class="line"><span class="comment">  在plugin外部得jar包，他不会去找到并执行，</span></span><br><span class="line"><span class="comment">  所以要把plugin运行依赖得jar配置都放在里面</span></span><br><span class="line"><span class="comment">  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;mysql.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在resources目录下添加generatorConfig.xml文件</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="line"><span class="meta">&lt;!DOCTYPE generatorConfiguration</span></span><br><span class="line"><span class="meta">        PUBLIC "-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"</span></span><br><span class="line"><span class="meta">        "http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd"&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">generatorConfiguration</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- context 是逆向工程的主要配置信息 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- id：起个名字 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- targetRuntime：设置生成的文件适用于那个 mybatis 版本 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context</span> <span class="attr">id</span>=<span class="string">"default"</span> <span class="attr">targetRuntime</span>=<span class="string">"MyBatis3"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- optional，旨在创建class时，对注释进行控制 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suppressDate"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suppressAllComments"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--jdbc的数据库连接--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--这里是以变量的形式定义，具体的值在 application.properties 文件中--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--jdbc:mysql://localhost:3306/数据库名?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdbcConnection</span> <span class="attr">driverClass</span>=<span class="string">"com.mysql.cj.jdbc.Driver"</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">connectionURL</span>=<span class="string">"jdbc:mysql://127.0.0.1:3306/test?serverTimezone=UTC"</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">userId</span>=<span class="string">"root"</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">password</span>=<span class="string">"admin"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--MySQL 不支持 schema 或者 catalog 所以需要添加这个--&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--参考 : http://www.mybatis.org/generator/usage/mysql.html--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"nullCatalogMeansCurrent"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">jdbcConnection</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- targetPackage：生成的实体类所在的包 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- targetProject：生成的实体类所在的硬盘位置 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- DataObject 类存放位置 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaModelGenerator</span> <span class="attr">targetPackage</span>=<span class="string">"com.example.model"</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">targetProject</span>=<span class="string">".\src\main\java"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 是否允许子包 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"enableSubPackages"</span> <span class="attr">value</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 是否对modal添加构造函数 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"constructorBased"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 是否清理从数据库中查询出的字符串左右两边的空白字符 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"trimStrings"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 建立modal对象是否不可改变 即生成的modal对象不会有setter方法，只有构造方法 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"immutable"</span> <span class="attr">value</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaModelGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- targetPackage 和 targetProject：生成的 mapper 文件的包和位置 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sqlMapGenerator</span> <span class="attr">targetPackage</span>=<span class="string">"mapper"</span></span></span><br><span class="line"><span class="tag">                         <span class="attr">targetProject</span>=<span class="string">".\src\main\resources"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 针对数据库的一个配置，是否把 schema 作为字包名 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"enableSubPackages"</span> <span class="attr">value</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">sqlMapGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- targetPackage 和 targetProject：生成的 interface 文件的包和位置 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaClientGenerator</span> <span class="attr">type</span>=<span class="string">"XMLMAPPER"</span></span></span><br><span class="line"><span class="tag">                             <span class="attr">targetPackage</span>=<span class="string">"com.example.mapper"</span> <span class="attr">targetProject</span>=<span class="string">".\src\main\java"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 针对 oracle 数据库的一个配置，是否把 schema 作为字包名 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"enableSubPackages"</span> <span class="attr">value</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">javaClientGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--生成对应表及类名 并不生成Example--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">"user"</span> <span class="attr">domainObjectName</span>=<span class="string">"User"</span> <span class="attr">enableCountByExample</span>=<span class="string">"false"</span> <span class="attr">enableUpdateByExample</span>=<span class="string">"false"</span> <span class="attr">enableDeleteByExample</span>=<span class="string">"false"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">"user_company"</span> <span class="attr">domainObjectName</span>=<span class="string">"UserCompany"</span> <span class="attr">enableCountByExample</span>=<span class="string">"false"</span> <span class="attr">enableUpdateByExample</span>=<span class="string">"false"</span> <span class="attr">enableDeleteByExample</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">enableSelectByExample</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">"pub_parameter"</span> <span class="attr">domainObjectName</span>=<span class="string">"PubParameter"</span> <span class="attr">enableCountByExample</span>=<span class="string">"false"</span> <span class="attr">enableUpdateByExample</span>=<span class="string">"false"</span> <span class="attr">enableDeleteByExample</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">enableSelectByExample</span>=<span class="string">"false"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">"funds_record"</span> <span class="attr">domainObjectName</span>=<span class="string">"FundsRecord"</span> <span class="attr">enableCountByExample</span>=<span class="string">"false"</span> <span class="attr">enableUpdateByExample</span>=<span class="string">"false"</span> <span class="attr">enableDeleteByExample</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">enableSelectByExample</span>=<span class="string">"false"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">"company_extension"</span> <span class="attr">domainObjectName</span>=<span class="string">"CompanyExtension"</span> <span class="attr">enableCountByExample</span>=<span class="string">"false"</span> <span class="attr">enableUpdateByExample</span>=<span class="string">"false"</span> <span class="attr">enableDeleteByExample</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">enableSelectByExample</span>=<span class="string">"false"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">generatorConfiguration</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="运行插件"><a href="#运行插件" class="headerlink" title="运行插件"></a><strong>运行插件</strong></h2><p><img src="https://raw.githubusercontent.com/Qin-K/picGo/master/img/20190904143558.png"></p><p><strong>最终项目结构</strong></p><p><img src="https://raw.githubusercontent.com/Qin-K/picGo/master/img/20190904143631.png"></p><h2 id="常见的坑说明"><a href="#常见的坑说明" class="headerlink" title="常见的坑说明"></a>常见的坑说明</h2><p><strong>MyBatis Generator 生成器把其他数据库的同名表生成下来的问题</strong></p><p>​        </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MyBatis Generator : Table Configuration scheme.table matched more than one table</span><br></pre></td></tr></table></figure><p>在生成器的配置文件里的数据库连接地址中添加下列参数:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nullCatalogMeansCurrent=true</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--数据库连接的信息：驱动类、连接地址、用户名、密码 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">jdbcConnection</span> <span class="attr">driverClass</span>=<span class="string">"com.mysql.cj.jdbc.Driver"</span></span></span><br><span class="line"><span class="tag"><span class="attr">connectionURL</span>=<span class="string">"jdbc:mysql://localhost:3306/security"</span></span></span><br><span class="line"><span class="tag"><span class="attr">userId</span>=<span class="string">"root"</span></span></span><br><span class="line"><span class="tag"><span class="attr">password</span>=<span class="string">"root"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--MySQL 8.x 需要指定服务器的时区--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"serverTimezone"</span> <span class="attr">value</span>=<span class="string">"UTC"</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--MySQL 不支持 schema 或者 catalog 所以需要添加这个--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--参考 : http://www.mybatis.org/generator/usage/mysql.html--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"nullCatalogMeansCurrent"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">jdbcConnection</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>Exception getting JDBC Driver: com.mysql.jdbc.Driver</strong></p><p>用maven mybatis插件，如果不在plugin里面添加依赖包得引用的话，会找不到相关得jar包</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- mybatis-generator --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>1.3.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">verbose</span>&gt;</span>true<span class="tag">&lt;/<span class="name">verbose</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">overwrite</span>&gt;</span>true<span class="tag">&lt;/<span class="name">overwrite</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">  用maven mybatis插件</span></span><br><span class="line"><span class="comment">  如果不在plugin里面添加依赖包得引用的话，会找不到相关得jar包，</span></span><br><span class="line"><span class="comment">  在plugin外部得jar包，他不会去找到并执行，</span></span><br><span class="line"><span class="comment">  所以要把plugin运行依赖得jar配置都放在里面</span></span><br><span class="line"><span class="comment">  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;mysql.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>mybaties generator 驼峰配置</strong></p><p>修改表格部分如下：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">"user_info"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">enableCountByExample</span>=<span class="string">"false"</span> <span class="attr">enableUpdateByExample</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">enableDeleteByExample</span>=<span class="string">"false"</span> <span class="attr">enableSelectByExample</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">selectByExampleQueryId</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"useActualColumnNames"</span> <span class="attr">value</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--true：MyBatis Generator会使用数据库中实际的字段名字作为生成的实体类的属性名。</span></span><br><span class="line"><span class="comment">        　　false：这是默认值。如果设置为false,则MyBatis Generator会将数据库中实际的字段名字转换为Camel Case风格作为生成的实体类的属性名。--&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> mybatis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mybatis </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>正则表达式</title>
      <link href="/2018/06/24/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
      <url>/2018/06/24/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
      <content type="html"><![CDATA[<h1 id="正则表达式概述"><a href="#正则表达式概述" class="headerlink" title="正则表达式概述"></a>正则表达式概述</h1><p>正则表达式，⼜称正规表示式、正规表示法、正规表达式、规则表达式、常规表示法（英语：Regular Expression，在代码中常简写为regex、regexp或RE），是计算机科学的⼀个概念。正则表达式使⽤单个字符串来描述、匹配⼀系列匹配某个句法规则的字符串。在很多⽂本编辑器⾥，正则表达式通常被⽤来检索、替换那些匹配某个模式的⽂本。Regular Expression的“Regular”⼀般被译为“正则”、“正规”、“常规”。此处的“Regular”即是“规则”、“规律”的意思，Regular Expression即“描述某种规则的表达式”之意。</p><h1 id="re模块操作"><a href="#re模块操作" class="headerlink" title="re模块操作"></a>re模块操作</h1><p>在Python中需要通过正则表达式对字符串进行匹配的时候，需要使用re模块。</p><h2 id="match"><a href="#match" class="headerlink" title="match"></a>match</h2><p>re.match是⽤来进⾏正则匹配检查的⽅法，若字符串匹配正则表达式，则match⽅法返回匹配对象（Match Object），否则返回None（注意不是空字符串””）。匹配对象Macth Object具有group⽅法，⽤来返回字符串的匹配部分。re.match()能够匹配出以XXX开头的字符串<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入模块</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">result = re.match(正则表达式， 要匹配的字符串)</span><br><span class="line"></span><br><span class="line">使用group方法来提取数据</span><br><span class="line">result.group()</span><br></pre></td></tr></table></figure></p><h2 id="示例-匹配以hello开头的语句"><a href="#示例-匹配以hello开头的语句" class="headerlink" title="示例(匹配以hello开头的语句)"></a>示例(匹配以hello开头的语句)</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">2</span>]: result = re.match(<span class="string">"hello"</span>, <span class="string">"hello world"</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">3</span>]: result.group()</span><br><span class="line">Out[<span class="number">3</span>]: <span class="string">'hello'</span></span><br></pre></td></tr></table></figure><h1 id="表示字符"><a href="#表示字符" class="headerlink" title="表示字符"></a>表示字符</h1><p>正则表达式的单字符匹配</p><table><thead><tr><th style="text-align:center">字符</th><th>功能</th></tr></thead><tbody><tr><td style="text-align:center">.</td><td>匹配任意一个字符(除了\n)</td></tr><tr><td style="text-align:center">[]</td><td>匹配[]中列举的字符</td></tr><tr><td style="text-align:center">\d</td><td>匹配数字0-9</td></tr><tr><td style="text-align:center">\D</td><td>匹配非数字</td></tr><tr><td style="text-align:center">\s</td><td>匹配空白(空格/tab键)</td></tr><tr><td style="text-align:center">\S</td><td>匹配非空格</td></tr><tr><td style="text-align:center">\w</td><td>匹配单词字符(a-z、 A-Z、 0-9、 _)</td></tr><tr><td style="text-align:center">\W</td><td>匹配费单词字符</td></tr></tbody></table><h1 id="表示数量"><a href="#表示数量" class="headerlink" title="表示数量"></a>表示数量</h1><p>正则表达式的多个字符匹配</p><table><thead><tr><th style="text-align:center">字符</th><th>功能</th></tr></thead><tbody><tr><td style="text-align:center">*</td><td>匹配前一个字符出现0次或者无限次(可有可无)</td></tr><tr><td style="text-align:center">+</td><td>匹配前一个字符出现1次或者无限次(至少又一次)</td></tr><tr><td style="text-align:center">?</td><td>匹配前一个字符出现1次或者0次(要么1次要么没有)</td></tr><tr><td style="text-align:center">{m}</td><td>匹配前一个字符出现m次</td></tr><tr><td style="text-align:center">{m,}</td><td>匹配前一个字符至少出现m次</td></tr><tr><td style="text-align:center">{m,n}</td><td>匹配前一个字符出现m到n次</td></tr></tbody></table><h1 id="表示边界"><a href="#表示边界" class="headerlink" title="表示边界"></a>表示边界</h1><table><thead><tr><th style="text-align:center">字符</th><th>功能</th></tr></thead><tbody><tr><td style="text-align:center">^</td><td>匹配字符串开头</td></tr><tr><td style="text-align:center">$</td><td>匹配字符串结尾</td></tr><tr><td style="text-align:center">\b</td><td>匹配一个单词的边界</td></tr><tr><td style="text-align:center">\B</td><td>匹配非单词边界</td></tr></tbody></table><h1 id="原始字符串"><a href="#原始字符串" class="headerlink" title="原始字符串"></a>原始字符串</h1><p>与⼤多数编程语⾔相同， 正则表达式⾥使⽤”\”作为转义字符 ，这就可能造成反斜杠困扰。假如你需要匹配⽂本中的字符”\”，那么使⽤编程语⾔表示的正则表达式⾥将需要4个反斜杠”\“：前两个和后两个分别⽤于在编程语⾔⾥转义成反斜杠，转换成两个反斜杠后再在正则表达式⾥转义成⼀个反斜杠。Python⾥的原⽣字符串很好地解决了这个问题，有了原始字符串，你再也不⽤担⼼是不是漏写了反斜杠，写出来的表达式也更直观。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">6</span>]: m = <span class="string">"\\na"</span></span><br><span class="line">In [<span class="number">7</span>]: result = re.match(<span class="string">r"\\na"</span>, m)</span><br><span class="line"></span><br><span class="line">In [<span class="number">8</span>]: result.group()</span><br><span class="line">Out[<span class="number">8</span>]: <span class="string">'\\na'</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">9</span>]: print(result.group())</span><br><span class="line">\na</span><br></pre></td></tr></table></figure><h1 id="示例1-匹配手机号码"><a href="#示例1-匹配手机号码" class="headerlink" title="示例1 匹配手机号码"></a>示例1 匹配手机号码</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">11</span>]: result = re.match(<span class="string">"1\d&#123;10&#125;$"</span>, <span class="string">"18888888888"</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">12</span>]: result.group()</span><br><span class="line">Out[<span class="number">12</span>]: <span class="string">'18888888888'</span></span><br></pre></td></tr></table></figure><h1 id="示例2-匹配163邮箱"><a href="#示例2-匹配163邮箱" class="headerlink" title="示例2 匹配163邮箱"></a>示例2 匹配163邮箱</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">14</span>]: result = re.match(<span class="string">"\w&#123;4,20&#125;@163\.com$"</span>,<span class="string">"hello@163.com"</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">15</span>]: result.group()</span><br><span class="line">Out[<span class="number">15</span>]: <span class="string">'hello@163.com'</span></span><br></pre></td></tr></table></figure><h1 id="匹配分组"><a href="#匹配分组" class="headerlink" title="匹配分组"></a>匹配分组</h1><table><thead><tr><th style="text-align:center">字符</th><th>功能</th></tr></thead><tbody><tr><td style="text-align:center">竖线</td><td>匹配左右任意一个表达式</td></tr><tr><td style="text-align:center">(ab)</td><td>将括号里中的字符作为一个分组</td></tr><tr><td style="text-align:center">\num</td><td>引用分组num匹配到的字符串</td></tr><tr><td style="text-align:center">(?P<name>)</name></td><td>分组起别名</td></tr><tr><td style="text-align:center">(?P=name)</td><td>引用起别名为name分组匹配到的字符串</td></tr></tbody></table><h2 id="匹配0-100之间的数字"><a href="#匹配0-100之间的数字" class="headerlink" title="匹配0-100之间的数字"></a>匹配0-100之间的数字</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">21</span>]: result = re.match(<span class="string">"0$|[1-9]\d$|100"</span>, <span class="string">"0"</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">22</span>]: result.group()</span><br><span class="line">Out[<span class="number">22</span>]: <span class="string">'0'</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">23</span>]: result = re.match(<span class="string">"0$|[1-9]\d$|100"</span>, <span class="string">"87"</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">25</span>]: result.group()</span><br><span class="line">Out[<span class="number">25</span>]: <span class="string">'87'</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">26</span>]: result = re.match(<span class="string">"0$|[1-9]\d$|100"</span>, <span class="string">"08"</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">27</span>]: result.group()</span><br><span class="line">-------------------------------------------------------------------------</span><br><span class="line">AttributeError                          Traceback (most recent call last)</span><br><span class="line">&lt;ipython-input<span class="number">-27</span>-c8eb6f1e4981&gt; <span class="keyword">in</span> &lt;module&gt;()</span><br><span class="line">----&gt; 1 result.group()</span><br><span class="line"></span><br><span class="line">AttributeError: <span class="string">'NoneType'</span> object has no attribute <span class="string">'group'</span></span><br></pre></td></tr></table></figure><h2 id="分组"><a href="#分组" class="headerlink" title="()分组"></a>()分组</h2><p>()分组可以通过group(num)来对对应匹配分组的内容进行提取group(0)表示所有匹配的内容0可以不写group()，大于1后是匹配的对应分组<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">57</span>]: result = re.match(<span class="string">"(\w+) (\d+)"</span>, <span class="string">"hello 100"</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">58</span>]: result.group()</span><br><span class="line">Out[<span class="number">58</span>]: <span class="string">'hello 100'</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">59</span>]: result.group(<span class="number">1</span>)</span><br><span class="line">Out[<span class="number">59</span>]: <span class="string">'hello'</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">60</span>]: result.group(<span class="number">2</span>)</span><br><span class="line">Out[<span class="number">60</span>]: <span class="string">'100'</span></span><br></pre></td></tr></table></figure></p><h1 id="re模块的高级用法"><a href="#re模块的高级用法" class="headerlink" title="re模块的高级用法"></a>re模块的高级用法</h1><h2 id="search"><a href="#search" class="headerlink" title="search"></a>search</h2><p>查找整个要匹配的字符串，返回第一次匹配成功的内容对象<br>例:匹配出字符串中的数字</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">26</span>]: re.search(<span class="string">"\d+"</span>, <span class="string">"fdaj174315"</span>)</span><br><span class="line">Out[<span class="number">26</span>]: &lt;_sre.SRE_Match object; span=(<span class="number">4</span>, <span class="number">10</span>), match=<span class="string">'174315'</span>&gt;</span><br></pre></td></tr></table></figure><h2 id="findall"><a href="#findall" class="headerlink" title="findall"></a>findall</h2><p>查找整个要匹配的字符串，返回所有匹配的内容,返回一个列表<br>例:匹配出字符串中的所有数字<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">30</span>]: result = re.findall(<span class="string">"\d+"</span>, <span class="string">"hello123world456hi11"</span>)</span><br><span class="line">In [<span class="number">31</span>]: result</span><br><span class="line">Out[<span class="number">31</span>]: [<span class="string">'123'</span>, <span class="string">'456'</span>, <span class="string">'11'</span>]</span><br></pre></td></tr></table></figure></p><h2 id="sub"><a href="#sub" class="headerlink" title="sub"></a>sub</h2><p>将匹配到的数据进行替换，返回字符串。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">re.sub(正则表达式，替换的内容，匹配的字符串)</span><br></pre></td></tr></table></figure></p><p>例：将字符串中的所有数字置0<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">33</span>]: result = re.sub(<span class="string">r"\d+"</span>,<span class="string">"0"</span>, <span class="string">"python:10, java:80, cpp:90"</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">34</span>]: result</span><br><span class="line">Out[<span class="number">34</span>]: <span class="string">'python:0, java:0, cpp:0'</span></span><br></pre></td></tr></table></figure></p><p>替换的内容可以为函数<br><strong>函数传入内容为匹配到的内容为一个对象，取值的时候需要用，返回的为替换的内容必须为字符串类型</strong><br>例：将字符串中的所有数字加5<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">40</span>]: <span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(temp)</span>:</span></span><br><span class="line">    ...:    temp = temp.group()</span><br><span class="line">    ...:    temp = int(temp) + <span class="number">5</span></span><br><span class="line">    ...:    <span class="keyword">return</span> str(temp)</span><br><span class="line">    ...:</span><br><span class="line">    ...:</span><br><span class="line"></span><br><span class="line">In [<span class="number">41</span>]: result = re.sub(<span class="string">r"\d+"</span>,add, <span class="string">"python:10, java:80, cpp:90"</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">42</span>]: result</span><br><span class="line">Out[<span class="number">42</span>]: <span class="string">'python:15, java:85, cpp:95'</span></span><br></pre></td></tr></table></figure></p><h2 id="split"><a href="#split" class="headerlink" title="split"></a>split</h2><p>根据匹配进行切割字符串，返回一个列表<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">re.split(需要根据什么切割, 切割的字符串)</span><br></pre></td></tr></table></figure></p><p>例：切割字符串”python:java php-cpp”<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">44</span>]: result = re.split(<span class="string">":| |-"</span>,<span class="string">"python:java php-cpp"</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">45</span>]: result</span><br><span class="line">Out[<span class="number">45</span>]: [<span class="string">'python'</span>, <span class="string">'java'</span>, <span class="string">'php'</span>, <span class="string">'cpp'</span>]</span><br></pre></td></tr></table></figure></p><h1 id="python贪婪和非贪婪"><a href="#python贪婪和非贪婪" class="headerlink" title="python贪婪和非贪婪"></a>python贪婪和非贪婪</h1><p>Python⾥数量词默认是贪婪的（在少数语⾔⾥也可能是默认⾮贪婪），总是尝试匹配尽可能多的字符；⾮贪婪则相反，总是尝试匹配尽可能少的字符。在”*”,”?”,”+”,”{m,n}”表示数量后⾯加上？，使贪婪变成⾮贪婪。<br>例：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">49</span>]: result = re.match(<span class="string">".+(\d+-\d+-\d+-\d+)"</span>, s)</span><br><span class="line"></span><br><span class="line">In [<span class="number">50</span>]: result.group(<span class="number">1</span>)</span><br><span class="line">Out[<span class="number">50</span>]: <span class="string">'4-235-22-423'</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">51</span>]: result = re.match(<span class="string">".+?(\d+-\d+-\d+-\d+)"</span>, s)</span><br><span class="line"></span><br><span class="line">In [<span class="number">52</span>]: result.group(<span class="number">1</span>)</span><br><span class="line">Out[<span class="number">52</span>]: <span class="string">'234-235-22-423'</span></span><br></pre></td></tr></table></figure><p>正则表达式模式中使⽤到通配字，那它在从左到右的顺序求值时，会尽量“抓取”满⾜匹配最⻓字符串，在我们上⾯的例⼦⾥⾯，“.+”会从字符串的启始处抓取满⾜模式的最⻓字符，其中包括我们想得到的第⼀个整型字段的中的⼤<br>部分，“\d+”只需⼀位字符就可以匹配，所以它匹配了数字“4”，⽽“.+”则匹配了从字符串起始到这个第⼀位数字4之前的所有字符。解决⽅式：⾮贪婪操作符“？”，这个操作符可以⽤在”*”,”+”,”?”的后⾯，要求正则匹配的越少越好。</p><h1 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h1><h2 id="从下列字符串中提取文本去除所有html标签"><a href="#从下列字符串中提取文本去除所有html标签" class="headerlink" title="从下列字符串中提取文本去除所有html标签"></a>从下列字符串中提取文本去除所有html标签</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">        &lt;p&gt;岗位职责：&lt;/p&gt;</span><br><span class="line">&lt;p&gt;完成推荐算法、数据统计、接口、后台等服务器端相关工作&lt;/p&gt;</span><br><span class="line">&lt;p&gt;&lt;br&gt;&lt;/p&gt;</span><br><span class="line">&lt;p&gt;必备要求：&lt;/p&gt;</span><br><span class="line">&lt;p&gt;良好的自我驱动力和职业素养，工作积极主动、结果导向&lt;/p&gt;</span><br><span class="line">&lt;p&gt;&amp;nbsp;&lt;br&gt;&lt;/p&gt;</span><br><span class="line">&lt;p&gt;技术要求：&lt;/p&gt;</span><br><span class="line">&lt;p&gt;1、一年以上 Python 开发经验，掌握面向对象分析和设计，了解设计模式&lt;/p&gt;</span><br><span class="line">&lt;p&gt;2、掌握HTTP协议，熟悉MVC、MVVM等概念以及相关WEB开发框架&lt;/p&gt;</span><br><span class="line">&lt;p&gt;3、掌握关系数据库开发设计，掌握 SQL，熟练使用 MySQL/PostgreSQL 中的一种&lt;br&gt;&lt;/p&gt;</span><br><span class="line">&lt;p&gt;4、掌握NoSQL、MQ，熟练使用对应技术解决方案&lt;/p&gt;</span><br><span class="line">&lt;p&gt;5、熟悉 Javascript/CSS/HTML5，JQuery、React、Vue.js&lt;/p&gt;</span><br><span class="line">&lt;p&gt;&amp;nbsp;&lt;br&gt;&lt;/p&gt;</span><br><span class="line">&lt;p&gt;加分项：&lt;/p&gt;</span><br><span class="line">&lt;p&gt;大数据，数理统计，机器学习，sklearn，高性能，大并发。&lt;/p&gt;</span><br><span class="line"></span><br><span class="line">        &lt;/div&gt;</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">70</span>]: s = <span class="string">"""</span></span><br><span class="line"><span class="string">    ...: &lt;div&gt;^M</span></span><br><span class="line"><span class="string">    ...:         &lt;p&gt;岗位职责：&lt;/p&gt;^M</span></span><br><span class="line"><span class="string">    ...: &lt;p&gt;完成推荐算法、数据统计、接口、后台等服务器端相关工作&lt;/p&gt;^M</span></span><br><span class="line"><span class="string">    ...: &lt;p&gt;&lt;br&gt;&lt;/p&gt;^M</span></span><br><span class="line"><span class="string">    ...: &lt;p&gt;必备要求：&lt;/p&gt;^M</span></span><br><span class="line"><span class="string">    ...: &lt;p&gt;良好的自我驱动力和职业素养，工作积极主动、结果导向&lt;/p&gt;^M</span></span><br><span class="line"><span class="string">    ...: &lt;p&gt;&amp;nbsp;&lt;br&gt;&lt;/p&gt;^M</span></span><br><span class="line"><span class="string">    ...: &lt;p&gt;技术要求：&lt;/p&gt;^M</span></span><br><span class="line"><span class="string">    ...: &lt;p&gt;1、一年以上 Python 开发经验，掌握面向对象分析和设计，了解设</span></span><br><span class="line"><span class="string">    ...: 计模式&lt;/p&gt;^M</span></span><br><span class="line"><span class="string">    ...: &lt;p&gt;2、掌握HTTP协议，熟悉MVC、MVVM等概念以及相关WEB开发框架&lt;/p&gt;</span></span><br><span class="line"><span class="string">    ...: ^M</span></span><br><span class="line"><span class="string">    ...: &lt;p&gt;3、掌握关系数据库开发设计，掌握 SQL，熟练使用 MySQL/PostgreS</span></span><br><span class="line"><span class="string">    ...: QL 中的一种&lt;br&gt;&lt;/p&gt;^M</span></span><br><span class="line"><span class="string">    ...: &lt;p&gt;4、掌握NoSQL、MQ，熟练使用对应技术解决方案&lt;/p&gt;^M</span></span><br><span class="line"><span class="string">    ...: &lt;p&gt;5、熟悉 Javascript/CSS/HTML5，JQuery、React、Vue.js&lt;/p&gt;^M</span></span><br><span class="line"><span class="string">    ...: &lt;p&gt;&amp;nbsp;&lt;br&gt;&lt;/p&gt;^M</span></span><br><span class="line"><span class="string">    ...: &lt;p&gt;加分项：&lt;/p&gt;^M</span></span><br><span class="line"><span class="string">    ...: &lt;p&gt;大数据，数理统计，机器学习，sklearn，高性能，大并发。&lt;/p&gt;^M</span></span><br><span class="line"><span class="string">    ...: ^M</span></span><br><span class="line"><span class="string">    ...:         &lt;/div&gt;</span></span><br></pre></td></tr></table></figure><p>方法1：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">71</span>]: re.sub(<span class="string">"&lt;\w+&gt;|&lt;/\w+&gt;"</span>,<span class="string">""</span>, s)</span><br><span class="line">Out[<span class="number">71</span>]: <span class="string">'\n\n        岗位职责：\n完成推荐算法、数据统计、接口、后台等服务器端相关工作\n\n必备要求：\n良好的自我驱动力和职业素养，工作积极主动、结果导向\n&amp;nbsp;\n技术要求：\n1、一年以上 Python 开发经验，掌握面向对象分析和设计， 了解设计模式\n2、掌握HTTP协议，熟悉MVC、MVVM等概念以及相关WEB开发框架\n3、掌握关系数据库开发设计，掌握 SQL，熟练使用 MySQL/PostgreSQL 中的一种\n4、掌握NoSQL、MQ，熟练使用对应技术解决方案\n5、熟悉 Javascript/CSS/HTML5，JQuery、React、Vue.js\n&amp;nbsp;\n加分项：\n大数据，数理统计，机器学习，sklearn，高性能，大并发。\n\n        \n'</span></span><br></pre></td></tr></table></figure></p><p>方法2:<br>关闭贪婪算法<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">72</span>]: re.sub(<span class="string">"&lt;\w+?&gt;"</span>, <span class="string">""</span>,s)</span><br><span class="line">Out[<span class="number">72</span>]: <span class="string">'\n\n        岗位职责：&lt;/p&gt;\n完成推荐算法、数据统计、接口、后台等服务器端相关工作&lt;/p&gt;\n&lt;/p&gt;\n必备要求：&lt;/p&gt;\n良好的自我驱动力和职业素养，工作积极主动、结果导向&lt;/p&gt;\n&amp;nbsp;&lt;/p&gt;\n技术要求：&lt;/p&gt;\n1、一年以上 Python 开发经 验，掌握面向对象分析和设计，了解设计模式&lt;/p&gt;\n2、掌握HTTP协议，熟悉MVC、MVVM等概念以及相关WEB开发框架&lt;/p&gt;\n3、掌握关系数据库开发设计，掌握 SQL，熟练使用 MySQL/PostgreSQL 中的一种&lt;/p&gt;\n4、掌握NoSQL、MQ，熟练使用对应技术解决方案&lt;/p&gt;\n5、熟悉 Javascript/CSS/HTML5，JQuery、React、Vue.js&lt;/p&gt;\n&amp;nbsp;&lt;/p&gt;\n加 分项：&lt;/p&gt;\n大数据，数理统计，机器学习，sklearn，高性能，大并发。&lt;/p&gt;\n\n        &lt;/div&gt;\n'</span></span><br></pre></td></tr></table></figure></p>]]></content>
      
      <categories>
          
          <category> 语言无关类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 正则表达式 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Github上Markdown语法总结</title>
      <link href="/2018/05/28/Github%E4%B8%8AMarkdown%E8%AF%AD%E6%B3%95%E6%80%BB%E7%BB%93/"/>
      <url>/2018/05/28/Github%E4%B8%8AMarkdown%E8%AF%AD%E6%B3%95%E6%80%BB%E7%BB%93/</url>
      <content type="html"><![CDATA[<h2 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h2><p>Markdown中标题如果想定义一个标题，可以在前面加上#关键字。<br>1-6个#号对应表示1-6级标题，标准Markdown语法#与正文之间有空格。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 一级标题</span><br><span class="line">## 二级标题</span><br><span class="line">### 三级标题</span><br><span class="line">#### 四级标题</span><br><span class="line">##### 五级标题</span><br><span class="line">###### 六级标题</span><br></pre></td></tr></table></figure></p><h1 id="一级标题"><a href="#一级标题" class="headerlink" title="一级标题"></a>一级标题</h1><h2 id="二级标题"><a href="#二级标题" class="headerlink" title="二级标题"></a>二级标题</h2><h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3><h4 id="四级标题"><a href="#四级标题" class="headerlink" title="四级标题"></a>四级标题</h4><h5 id="五级标题"><a href="#五级标题" class="headerlink" title="五级标题"></a>五级标题</h5><h6 id="六级标题"><a href="#六级标题" class="headerlink" title="六级标题"></a>六级标题</h6><h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><p>无序列表: 关键字* 或者(-,+)， 有序列表: 使用”数字.”格式， 后面需要加空格再写正文。<br>列表之间也可以相互嵌套， 需要嵌套加上一个tab键。取消列表按两个回车。<br>任务列表: - [x] 已完成任务列表。- [ ] 未完成任务列表[空格]。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">- 无序列表</span><br><span class="line">- 无序列表</span><br><span class="line">- 无序列表</span><br><span class="line"></span><br><span class="line">1. 有序列表</span><br><span class="line">2. 有序列表</span><br><span class="line">3. 有序列表</span><br><span class="line"></span><br><span class="line">- 无序列表</span><br><span class="line">1. 有序列表</span><br><span class="line">2. 有序列表</span><br><span class="line">3. 有序列表</span><br><span class="line">- 无序列表</span><br><span class="line">- 无序列表</span><br><span class="line"></span><br><span class="line">- [x] 已完成任务列表</span><br><span class="line">- [x] 已完成任务列表</span><br><span class="line">- [] 未完成任务列表</span><br><span class="line">- [] 未完成任务列表</span><br></pre></td></tr></table></figure></p><ul><li>无序列表</li><li>无序列表</li><li>无序列表</li></ul><ol><li>有序列表</li><li>有序列表</li><li>有序列表</li></ol><ul><li>无序列表<ol><li>有序列表</li><li>有序列表</li><li>有序列表<ul><li>无序列表</li><li>无序列表</li></ul></li></ol></li></ul><ul><li style="list-style: none"><input type="checkbox" checked> 已完成任务列表</li><li style="list-style: none"><input type="checkbox" checked> 已完成任务列表</li><li style="list-style: none"><input type="checkbox"> 未完成任务列表</li><li style="list-style: none"><input type="checkbox"> 未完成任务列表</li></ul><h2 id="文本样式"><a href="#文本样式" class="headerlink" title="文本样式"></a>文本样式</h2><p>Markdown支持4中文本样式分别是：加粗、斜体、删除线和加粗且斜体。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">*斜体*</span><br><span class="line">**加粗**</span><br><span class="line">**_加粗且斜体_**</span><br><span class="line">~~删除线~~</span><br></pre></td></tr></table></figure></p><p><em>斜体</em><br><strong>加粗</strong><br><strong><em>加粗且斜体</em></strong><br><del>删除线</del></p><h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h2><p>只需要在文本前加入 &gt; 这种尖括号（大于号）即可，引用之间也可以嵌套。</p><blockquote><p>这是一个引用</p><blockquote><p>这也是一个引用</p><blockquote><p>这还是一个引用</p></blockquote></blockquote></blockquote><h2 id="引用代码"><a href="#引用代码" class="headerlink" title="引用代码"></a>引用代码</h2><p>引入一个代码用倒引号`括起来<br>引用一段代码用三个倒引号括起来</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">引用一段代码</span><br><span class="line">int a = 10;</span><br><span class="line">int b = 20;</span><br><span class="line">int c = a + b;</span><br><span class="line">cout&lt;&lt;c&lt;&lt;endl;</span><br></pre></td></tr></table></figure><p>上面可以直接在三个倒引号后面加入引用代码的语言类型。编辑器会对应的进行渲染。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">引用一段代码</span><br><span class="line"><span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">int</span> c = a + b;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;c&lt;&lt;<span class="built_in">endl</span>;</span><br></pre></td></tr></table></figure><h2 id="引入链接"><a href="#引入链接" class="headerlink" title="引入链接"></a>引入链接</h2><h3 id="文字链接"><a href="#文字链接" class="headerlink" title="文字链接"></a>文字链接</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[文字描述](链接地址)</span><br><span class="line">[百度](http://www.baidu.com)</span><br></pre></td></tr></table></figure><p><a href="http://www.baidu.com" target="_blank" rel="noopener">百度</a></p><h3 id="图片链接"><a href="#图片链接" class="headerlink" title="图片链接"></a>图片链接</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">![](图片url或本地链接)</span><br><span class="line">![](Github上Markdown语法总结/佩奇.jpg)</span><br></pre></td></tr></table></figure><p><img src="Github上Markdown语法总结/佩奇.jpg" alt=""></p><h2 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">第一表头 | 第二表头</span><br><span class="line">------------ | -------------</span><br><span class="line">第一单元格内容 | 第二单元格内容</span><br><span class="line">第一列内容 | 第二列内容</span><br></pre></td></tr></table></figure><table><thead><tr><th>第一表头</th><th>第二表头</th></tr></thead><tbody><tr><td>第一单元格内容</td><td>第二单元格内容</td></tr><tr><td>第一列内容</td><td>第二列内容</td></tr></tbody></table><h2 id="转义符"><a href="#转义符" class="headerlink" title="转义符"></a>转义符</h2><p>可以用反斜杠来插入一些在语法中有其它意义的符号，如：可以在星号的前面加上反斜杠。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\*literal asterisks\*</span><br></pre></td></tr></table></figure></p><p><em>literal asterisks</em></p><p>反斜杠支持下面的字符<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">\   反斜杠</span><br><span class="line">`   反引号</span><br><span class="line">*   星号</span><br><span class="line">_   底线</span><br><span class="line">&#123;&#125;  大括号</span><br><span class="line">[]  方括号</span><br><span class="line">()  括号</span><br><span class="line">#   井字号</span><br><span class="line">+    加号</span><br><span class="line">-    减号</span><br><span class="line">.   英文句点</span><br><span class="line">!   惊叹号</span><br></pre></td></tr></table></figure></p>]]></content>
      
      <categories>
          
          <category> 实用工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Markdown </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
